SIDE NOTE: A lot of this code/many of the results are on the cluster. To find the location on the cluster, just go into the relevant code and see where it's putting stuff - usually it's wherever I setwd at the beginning of the code

ANOTHER SIDE NOTE: a lot of the time when I have cellranger running sh files, I have the code that you enter in on the cluster to make it run at the bottom. For example, in cellranger_bsub_mould_8_2021_mouse.sh, at the bottom, commented out, is the line: 
for ii in {1..15}; do bsub -u jacobsons@njhealth.org sh cellranger_bsub_mould_8_2021_mouse.sh $ii; done
If you enter this in when you're in the directory on the cluster where the code is located, it will run it.

######### drive/

###### tf/

### camille/

# ashg stuff/

posters, etc for ashg genpwr presentation

# backup_Power_Genetics/

self-explanatory

# genpwr/

All the genpwr code, including the github stuff and the rstudio projects

# genpwr_backup/

Also a backup but also has other code

check_model_simulations_linear_outcome_linear_environment.R, code for running simulations and checking them

also includes other debugging stuff

### single_cell/

transfer_files_new_mould_server.sh

this is code that I use to transfer files to the new mould server

## camille_data/

this just has data that you used in one of your Seurat pipelines that I saved in this folder.

## code/

# camille_code/

All unmodified code that you gave me that I used as templates for my own code

./seurat_functions.R

This has code for a lot of pipelines I created to run Seurat analyses, referenced in a lot of the code used below


## function_test_tmp/

I honestly don't know what this is - I must have been trying something out and needed this temporarily. Probably not important.

## hisert/

Has code for running cellranger for Hisert's data, as well as some results

## hume/

Note: I put code,etc into this directory by itself, not in it's own directory for the first pilot. Then after that, I started making new directories for each new set of data

./hume_cellranger_aggregate.csv - necessary to run aggregation of post cell-ranger results

./hume_extra_1_7_2020.R

I think pat asked me to do seurat clusters on different groups - singles + 455, singles + 456, merged + 455

./hume_extra_plots.R

code to make plots for the extra thing from before

./hume_qc_plots.pdf 

QC plots from initial pilot

./hume_seurat_clustering.R

seurat clustering code for initial pilot

./hume_subcluster_1_2021.R

subclustering for initial pilot (info in code file)

./import_citesseq_cloupe_hume.R

code to create files with hastag info that can be imported into cloupe (I later found a quicker way to do this)

./merged_455_hto_groups.pdf

plot from hume_extra_plots.R

./run_cite_seq_hume.sh

self-explanatory

./tags_hume.csv

used in run_cite_seq_hume.sh

# new_data_5_2021/

./assay_summary5_2021.xlsx

self-explanatory

./cellranger_bsub_hume_5_2021_ii.sh

code to run cellranger 

./cellranger_satria_method_bsub_hume_5_2021_ii

code to run cellranger using old method

./crosstabs_counts.xlsx

crosstabs for counts of citeseq info - generated by ./hume_5_2021_citeseq_import.R

./feature_reference_hume_newdata_464_NS_5_2021.csv

satria's method for citeseq uses these feature references

./feature_reference_hume_newdata_464_NS_5_2021_alltags.csv

same as before, but with all possible tags to see if the sample was contaminated 

./feature_reference_hume_newdata_468_S_5_2021.csv

feature reference for other sample

./finding_tags.sh

searching for tags in all the HTO/fastq files to see if we were missing something

./hume_5_2021_citeseq_import.R

code to create files with hastag info that can be imported into cloupe

feature references, libraries for satria's method are in here, as well as plots

# pilot_third_9_2021/ (note: this folder is more organized, and this is where I started to have a more consistent way of organizing these)

./cellranger_satria_method_bsub_hume_9_2021_ii.sh

code to run satria's cellranger stuff

./multiplexing_hume_pilot3_9_2021.R 

multiplexing for the third pilot

./hume_seurat_clustering_pilot3_9_2021.R

seurat clustering code

feature references, libraries, and plots are in here too

-seurat_clustering/

contains plots, cloupe files, and excel files for seurat clustering stuff

# hume_dat_12_2021/

./hume_dat_12_2021_satria_file_generator.R

this script that generates the libraries and feature reference files automatically

./hume_dat_12_2021_multiplexing.R

multiplexing for this dataset

./hume_dat_12_2021_doublet_detection.R

doublet detection

./hume_seurat_clustering_12_2021.R

initial seurat clustering

./hume_seurat_subclustering_2_2022.R

first subclustering

./hume_seurat_second_subclustering_4_2022.R

the first subclustering is redone in here, and then all the subsequent subclusterings are done. Also, after I ran hume_combine_with_mould_data.R and created a new dataset with everything, I did the filtering and then subclustering on here.

./baseline_redo_integration.R

I was using this as a template for how you integrated kara's data that pat was asking to integrate into his data. This is your code that I downloaded from the cluster, and I haven't changed it

./hume_combine_with_mould_data.R

I had to combine the raw, unfiltered hume data with the raw, unfiltered mould data because I couldn't integrate the post-processed data




-subclustering/

contains subclustering plots and files

./hume_seurat_subclustering_2_2022_oldversion.R

this is before I replaced that one bad subject with the new subject from a previous pilot




## mould/

# 8_2021_mouse/

./cellranger_bsub_mould_8_2021_mouse.sh

code to run cellranger

This directory also has R code to run through the Seurat stuff for the data and for the subclusters.

./file_transfer.sh

This has code to transfer files from UCDenver's cluster to our cluster

-results_all_timepoints/

results for these analyses

# baseline_c3/

results from baseline, cluster 3 (code to generate this is in mould/code/integration_clustering_baseline_cluster3.R)

# lps_c3/

results from lps, cluster 3 (code to generate this is in mould/code/integration_clustering_lps_c3.R)

# lps_c3_5_15/

results from lps, clusters 3, 5, 15 (code to generate this is in mould/code/integration_clustering_lps_c3_5_15.R)

# joint_4_7_20/

results from joint, clusters 4, 7, 20 (code to generate this is in mould/code/integration_clustering_joint_cluster_4_7_20.R)

# nathan_jackson/

Kara had asked me to process some data from someone named Nathan Jackson, in this directory is my attempt to do so (I wasn't able to)

# PBMC/

code for doing PBMC data for Kara

# pbmc_bal_12_2020/

code and results for doing citeseq/cellranger/seurat stuff for pbmc_bal data

# scenic_stuff/

For scenic, I started in R to convert to a loom file, then did the python part, then made the plots in R.
Here's the order for doing scenic, for the first run:

scenic_cl3_step1.R --> SCENIC_cl3.py --> scenic_analysis.R

Other files:

./SCENIC_cl3.R 

this was my attempt to do the whole thing in R. Can be ignored.

./SCENIC_cl3_camillescode.R

self-explanatory

# data_4_2022/

This is the two subjects that were redone 4/2022, there's just a cellranger file in here

# data_12_2021/

This is the pre-processing of the 10 subjects - it has been changed to include the two redone subjets in data_4_2022

# combo_mould_data_1_22/

This is the combination of all the data.

This is confusing, so here's the order of operations.

cellranger: 

data_12_2021/cellranger_mould_data_12_2021.sh for the initial 10 subjects
data_4_2022/cellranger_mould_data_4_2022.sh for the 2 new subjects

sctransforming/preprocessing:

data_12_2021/mould_12_2021_seurat_clustering.R
data_12_2021/mould12_2021_qc.R is for QC

integrating with all the other subjects so that you have the full set of 30 subjects:

combo_mould_data_1_22/joint_integration_sj.R


# joint_scenic_project_3_2022/

this is the directory for the second attempt at scenic stuff

Here's the order of operations:

SCENIC_cl3_step1_joint_3_22.R --> SCENIC_joint_3_22.py --> scenic_analysis_joint_3_22.R

-plots/

plots and regulons list for joint scenic analysis

SMBClient_Readme_for_Sean.txt

I was using this smbclient software to try to look at the old cluster because I couldn't use ssh. This is just a bunch of info I was using.

## majka/

# copd_control_epi/

Bradley Richmond sent an email saying this:

If you have the bandwidth I was hoping you might be able to help me with re-clustering two cell populations among the epithelial cell populations in a R file I can send you.  This file is limited to epithelial cells from control and COPD patients.  The person who helped me with the initial clustering is really busy right now and can’t help, and I can’t figure it out.
 
The metadata label to cluster by is “celltype_final”
 
I would like to have re-clustering on “Secretory - SCGB1A1+/MUC5B+” and, separately, re-clustering on a merge of 2 other populations "Secretory - SCGB1A1+/SCGB3A2+" and “Secretory - SCGB3A2+".
 
I am hoping to put together a joint manuscript with Sue and Lee and of course include you and Sean as co-authors as well.
 
Let me know if this would be possible or if you’d like to set up a time to discuss. 
 
Bradley

Everything in this copd_control_epi/ folder is the result of analyses of the R file copd_control_epi.Rdata that he shared with me.

copd_epithelial_bradley_richmond.zip

Results for Bradley Richmonds subsets he wanted us to do - this zip file is what I sent to him. The contents of the zip file are the same as the contents of this folder. Results with the suffix "SCGB1A1_MUC5B" are from reclustering the subset with the cell type he labelled "Secretory - SCGB1A1+/MUC5B+" and results with the suffix SCGB1A1_SCGB3A2_SCGB3A2 are results from reclustering the subset with the cell type he labelled "Secretory - SCGB1A1+/SCGB3A2+", "Secretory - SCGB3A2+"

./majka_seurat_clustering_copd_control_epi.R

contains the code to perform the clustering described above

# VU_TGen_COPD_and_Control_Samples/

./majka_seurat_clustering_ii.R

this is an old attempt to do the analysis which I abandoned, so it can be ignored.

./majka_seurat_clustering.R

seurat clustering for the files in these directories:

/Moore/data/majka/VU_TGen_COPD_and_Control_Samples/h5_cellranger_5/Control/
/Moore/data/majka/VU_TGen_COPD_and_Control_Samples/h5_cellranger_5/COPD/

./majka_seurat_clustering_part2.R

splitting the analysis in 2: CD45pos Hematopoietic and  endothelial + fibroblasts. 

./majka_seurat_clustering_part3.R

subcluster of cluster 7 in the CD45pos group from part 2

./majka_seurat_clustering_part4.R

subclustering from CD45 with only  cells that have >1 count CD3E + either CD3D or CD3G
 
./majka_ef_ABCG2.R

Sue asked me to look at CD45 cells, cluster 6, and do the following pseudo-bulk DEGs:
ABCG+ cells for Controls in cluster 6 vs ABCG+ cells for COPD patients in cluster 6 
ABCG+ cells for Controls in cluster 6 vs ABCG- cells in Controls for cluster 6 

### cgeh/

# 7_2021_gorska/

./pct_duplicated_plot.R

creates pct_dup_plot.pdf, showing pct duplicated

./post_mapping_analysis_gorska.R

analysis of Gorska featurecounts data from KC's pipeline using Brian's pipeline

the sh files are just terminal commands for different software, eg star, fastqc, samtools, markduplicates, etc